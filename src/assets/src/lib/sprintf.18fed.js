(function(e){var t={not_string:/[^s]/,number:/[diefg]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijosuxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};function n(){var e=arguments[0],t=n.cache;if("array"==s(arguments[1])){let e=arguments[1];for(let t=0;t<e.length;t++)arguments[1+t]=e[t]}return t[e]&&t.hasOwnProperty(e)||(t[e]=n.parse(e)),n.format.call(null,t[e],arguments)}n.format=function(e,r){var o,a,i,l,f,c,p,u,g=1,d=e.length,h="",x=[],b=!0,y="";for(a=0;a<d;a++)if("string"===(h=s(e[a])))x[x.length]=e[a];else if("array"===h){if((l=e[a])[2])for(o=r[g],i=0;i<l[2].length;i++){if(!o.hasOwnProperty(l[2][i]))throw new Error(n("[sprintf] property '%s' does not exist",l[2][i]));o=o[l[2][i]]}else o=l[1]?r[l[1]]:r[g++];if("function"==s(o)&&(o=o()),t.not_string.test(l[8])&&t.not_json.test(l[8])&&"number"!=s(o)&&isNaN(o))throw new TypeError(n("[sprintf] expecting number but found %s",s(o)));switch(t.number.test(l[8])&&(b=o>=0),l[8]){case"b":o=o.toString(2);break;case"c":o=String.fromCharCode(o);break;case"d":case"i":o=parseInt(o,10);break;case"j":o=JSON.stringify(o,null,l[6]?parseInt(l[6]):0);break;case"e":o=l[7]?o.toExponential(l[7]):o.toExponential();break;case"f":o=l[7]?parseFloat(o).toFixed(l[7]):parseFloat(o);break;case"g":o=l[7]?parseFloat(o).toPrecision(l[7]):parseFloat(o);break;case"o":o=o.toString(8);break;case"s":o=(o=String(o))&&l[7]?o.substring(0,l[7]):o;break;case"u":o>>>=0;break;case"x":o=o.toString(16);break;case"X":o=o.toString(16).toUpperCase()}t.json.test(l[8])?x[x.length]=o:(!t.number.test(l[8])||b&&!l[3]?y="":(y=b?"+":"-",o=o.toString().replace(t.sign,"")),c=l[4]?"0"===l[4]?"0":l[4].charAt(1):" ",p=l[6]-(y+o).length,f=l[6]&&p>0?(u=c,Array(p+1).join(u)):"",x[x.length]=l[5]?y+o+f:"0"===c?y+f+o:f+y+o)}return x.join("")},n.cache={},n.parse=function(e){for(var n=e,r=[],s=[],o=0;n;){if(null!==(r=t.text.exec(n)))s[s.length]=r[0];else if(null!==(r=t.modulo.exec(n)))s[s.length]="%";else{if(null===(r=t.placeholder.exec(n)))throw new SyntaxError("[sprintf] unexpected placeholder");if(r[2]){o|=1;var a=[],i=r[2],l=[];if(null===(l=t.key.exec(i)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(a[a.length]=l[1];""!==(i=i.substring(l[0].length));)if(null!==(l=t.key_access.exec(i)))a[a.length]=l[1];else{if(null===(l=t.index_access.exec(i)))throw new SyntaxError("[sprintf] failed to parse named argument key");a[a.length]=l[1]}r[2]=a}else o|=2;if(3===o)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");s[s.length]=r}n=n.substring(r[0].length)}return s};var r=function(e,t,r){return(r=(t||[]).slice(0)).splice(0,0,e),n.apply(null,r)};function s(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}"undefined"!=typeof exports?(exports.sprintf=n,exports.vsprintf=r,e&&(e.sprintf=n,e.vsprintf=r)):(e.sprintf=n,e.vsprintf=r,"function"==typeof define&&define.amd&&define(function(){return{sprintf:n,vsprintf:r}}))})("undefined"==typeof window?this:window);